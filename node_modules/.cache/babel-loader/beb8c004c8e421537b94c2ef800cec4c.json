{"ast":null,"code":"var _jsxFileName = \"/home/rajatrajivsharma/Desktop/ShoppeR/Shoppe/src/Data/Context.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport ErrorView from '../Views/ErrorView';\nconst ProductContext = React.createContext();\n\nclass ProductProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      searchString: null,\n      productData: [],\n      filters: [],\n      cartElements: [],\n      cartCount: 0,\n      totalItemCount: [],\n      individualPrices: [],\n      brandFilterValue: '',\n      colorFilterValue: '',\n      minPriceFilterValue: '',\n      maxPriceFilterValue: '',\n      error: false,\n      isButtonDisabled: false,\n      name: null\n    };\n\n    this.onInputChange = payload => {\n      this.setState({ ...this.state,\n        ...payload\n      });\n    };\n\n    this.onSubmitHandler = e => {\n      e.preventDefault();\n      this.state.users.forEach(user => user.username === this.state.username && user.password === this.state.password ? console.log(this.props) : alert(\"Enter the correct credentialss\"));\n    };\n\n    this.setfullName = name => {\n      this.setState({\n        name: name\n      });\n    };\n\n    this.isButtonDisabled = id => {\n      if (this.state.cartElements.includes(id)) {\n        return true;\n      }\n    };\n\n    this.searchOnchangeHandler = searchString => {\n      this.setState({\n        searchString: searchString\n      });\n    };\n\n    this.selectOnChangeHandler = selectValue => {\n      this.setState(selectValue);\n    };\n\n    this.colorAndBrandFilter = productData => {\n      productData = productData.filter(product => this.state.brandFilterValue !== '' ? product.title.toLowerCase().includes(this.state.brandFilterValue.toLowerCase()) : true).filter(product => this.state.colorFilterValue !== '' ? product.colour.title.includes(this.state.colorFilterValue) : true);\n      return productData;\n    };\n\n    this.filterSubmitHandler = () => {\n      if (this.state.minPriceFilterValue === '' && this.state.maxPriceFilterValue === '') {\n        axios.get(\"https://xebiascart.herokuapp.com/products\").then(response => {\n          this.setState({\n            productData: response.data\n          });\n          let productData = [...this.state.productData];\n          productData = this.colorAndBrandFilter(productData);\n          this.setState({\n            productData: productData\n          });\n        }).catch(error => {\n          this.setState({\n            error: error.response\n          });\n        });\n      } else if (this.state.minPriceFilterValue !== '' && this.state.maxPriceFilterValue === '') {\n        axios.get(\"https://xebiascart.herokuapp.com/products\").then(response => {\n          this.setState({\n            productData: response.data\n          });\n          let productData = [...this.state.productData];\n          productData = this.colorAndBrandFilter(productData).filter(product => product.price.final_price >= parseInt(this.state.minPriceFilterValue.replace('₹', '')));\n          this.setState({\n            productData: productData\n          });\n        }).catch(error => {\n          this.setState({\n            error: error.response\n          });\n        });\n      } else if (this.state.minPriceFilterValue === '' && this.state.maxPriceFilterValue !== '') {\n        axios.get(\"https://xebiascart.herokuapp.com/products\").then(response => {\n          this.setState({\n            productData: response.data\n          });\n          let productData = [...this.state.productData];\n          productData = this.colorAndBrandFilter(productData).filter(product => product.price.final_price <= parseInt(this.state.maxPriceFilterValue.replace('₹', '')));\n          this.setState({\n            productData: productData\n          });\n        }).catch(error => {\n          this.setState({\n            error: error.response\n          });\n        });\n      } else if (this.state.minPriceFilterValue !== '' && this.state.maxPriceFilterValue !== '' && this.state.maxPriceFilterValue !== '₹4000+') {\n        axios.get(\"https://xebiascart.herokuapp.com/products\").then(response => {\n          this.setState({\n            productData: response.data\n          });\n          let productData = [...this.state.productData];\n          productData = this.colorAndBrandFilter(productData).filter(product => product.price.final_price <= parseInt(this.state.maxPriceFilterValue.replace('₹', '')) && product.price.final_price >= parseInt(this.state.minPriceFilterValue.replace('₹', '')));\n          this.setState({\n            productData: productData\n          });\n        }).catch(error => {\n          this.setState({\n            error: error.response\n          });\n        });\n      } else {\n        axios.get(\"https://xebiascart.herokuapp.com/products\").then(response => {\n          this.setState({\n            productData: response.data\n          });\n          let productData = [...this.state.productData];\n          productData = this.colorAndBrandFilter(productData);\n          this.setState({\n            productData: productData\n          });\n        }).catch(error => {\n          this.setState({\n            error: error.response\n          });\n        });\n      }\n    };\n\n    this.removeFilter = () => {\n      axios.get(\"https://xebiascart.herokuapp.com/products\").then(response => {\n        console.log(\"hello from remove\");\n        this.setState({\n          productData: response.data\n        });\n      }).catch(error => {\n        this.setState({\n          error: error.response\n        });\n      });\n    };\n\n    this.removeFromCart = id => {\n      const cartElements = [...this.state.cartElements];\n      const index = cartElements.findIndex(item => item === id); // cartElements = cartElements.filter(product => product !== id)\n\n      cartElements.splice(index, 1);\n      this.setState({\n        cartElements: cartElements,\n        cartCount: this.state.cartCount - 1\n      });\n    };\n\n    this.totalItemCountFinder = id => {\n      const totalItemCount = [...this.state.totalItemCount];\n      const index = totalItemCount.findIndex(item => item.id === id);\n      return totalItemCount[index].quantity;\n    };\n\n    this.individualItemPriceCalculator = id => {\n      const productData = [...this.state.productData];\n      const productDataIndex = productData.findIndex(item => item.id === id);\n      const price = productData[productDataIndex].price.final_price;\n      const totalItemCount = [...this.state.totalItemCount];\n      const totalItemCountIndex = totalItemCount.findIndex(item => item.id === id);\n      const count = totalItemCount[totalItemCountIndex].quantity;\n      const final_price = price * count; // this.setState({ hello: \"hello\" })\n      // this.updateIndividualPrices(final_price)\n\n      return final_price;\n    };\n\n    this.updateIndividualPrices = price => {\n      this.setState({\n        individualPrices: [...this.state.individualPrices, price]\n      });\n    };\n\n    this.totalItemCountIncrementHandler = id => {\n      this.setState(prevState => {\n        const totalItemCount = [...prevState.totalItemCount];\n        const index = totalItemCount.findIndex(item => item.id === id);\n        totalItemCount[index].quantity = totalItemCount[index].quantity + 1 <= 10 ? totalItemCount[index].quantity + 1 : totalItemCount[index].quantity;\n        return {\n          totalItemCount\n        };\n      });\n    };\n\n    this.totalItemCountDecrementHandler = id => {\n      this.setState(prevState => {\n        const totalItemCount = [...prevState.totalItemCount];\n        const index = totalItemCount.findIndex(item => item.id === id);\n        totalItemCount[index].quantity = totalItemCount[index].quantity - 1 > 0 ? totalItemCount[index].quantity - 1 : totalItemCount[index].quantity;\n        return {\n          totalItemCount\n        };\n      });\n    };\n\n    this.handleDetails = () => {\n      console.log(\"hello from detail\");\n    };\n\n    this.handleAddtoCard = id => {\n      let allAddedElements = [...this.state.cartElements];\n\n      if (allAddedElements.indexOf(id) === -1) {\n        const array = [...this.state.cartElements, id];\n        this.setState({\n          cartElements: array,\n          cartCount: this.state.cartCount + 1,\n          isButtonDisabled: true\n        });\n        this.totalItemCountIncrementHandler(id);\n      } else {\n        alert(\"Item already added to cart! Please navigate to cart to update the quantity\");\n      }\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"https://xebiascart.herokuapp.com/products\").then(response => {\n      this.setState({\n        productData: response.data\n      }); // this.state.productData.map(product => console.log(product.discount))\n\n      this.state.productData.forEach(product => {\n        return this.setState({\n          totalItemCount: [...this.state.totalItemCount, {\n            id: product.id,\n            quantity: 0\n          }]\n        });\n      });\n    }).catch(error => {\n      this.setState({\n        error: error.response\n      });\n    });\n    axios.get(\"https://xebiascart.herokuapp.com/filters\").then(response => {\n      this.setState({\n        filters: response.data\n      });\n    }).catch(error => {\n      error === undefined ? this.setState({\n        error: true\n      }) : this.setState({\n        error: error.response\n      });\n    });\n    axios.get(\"https://xebiascart.herokuapp.com/users\").then(response => {\n      this.setState({\n        users: response.data\n      });\n    });\n  } //Login Functions \n\n\n  render() {\n    return this.state.error === false ? /*#__PURE__*/React.createElement(ProductContext.Provider, {\n      value: { ...this.state,\n        searchOnchangeHandler: this.searchOnchangeHandler,\n        selectOnChangeHandler: this.selectOnChangeHandler,\n        filterSubmitHandler: this.filterSubmitHandler,\n        handleDetails: this.handleDetails,\n        handleAddtoCard: this.handleAddtoCard,\n        totalItemCountIncrementHandler: this.totalItemCountIncrementHandler,\n        totalItemCountDecrementHandler: this.totalItemCountDecrementHandler,\n        totalItemCountFinder: this.totalItemCountFinder,\n        individualItemPriceCalculator: this.individualItemPriceCalculator,\n        removeFilter: this.removeFilter,\n        removeFromCart: this.removeFromCart,\n        isButtonDisabled: this.isButtonDisabled,\n        onInputChange: this.onInputChange,\n        onSubmitHandler: this.onSubmitHandler\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }\n    }, this.props.children) : /*#__PURE__*/React.createElement(ErrorView, {\n      error: this.state.error,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 17\n      }\n    });\n  }\n\n}\n\nconst ProductConsumer = ProductContext.Consumer;\nexport { ProductProvider, ProductConsumer };","map":{"version":3,"sources":["/home/rajatrajivsharma/Desktop/ShoppeR/Shoppe/src/Data/Context.js"],"names":["React","Component","axios","ErrorView","ProductContext","createContext","ProductProvider","state","searchString","productData","filters","cartElements","cartCount","totalItemCount","individualPrices","brandFilterValue","colorFilterValue","minPriceFilterValue","maxPriceFilterValue","error","isButtonDisabled","name","onInputChange","payload","setState","onSubmitHandler","e","preventDefault","users","forEach","user","username","password","console","log","props","alert","setfullName","id","includes","searchOnchangeHandler","selectOnChangeHandler","selectValue","colorAndBrandFilter","filter","product","title","toLowerCase","colour","filterSubmitHandler","get","then","response","data","catch","price","final_price","parseInt","replace","removeFilter","removeFromCart","index","findIndex","item","splice","totalItemCountFinder","quantity","individualItemPriceCalculator","productDataIndex","totalItemCountIndex","count","updateIndividualPrices","totalItemCountIncrementHandler","prevState","totalItemCountDecrementHandler","handleDetails","handleAddtoCard","allAddedElements","indexOf","array","componentDidMount","undefined","render","children","ProductConsumer","Consumer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\nimport ErrorView from '../Views/ErrorView';\n\nconst ProductContext = React.createContext();\n\nclass ProductProvider extends Component {\n\n\n    state = {\n        searchString: null,\n        productData: [],\n        filters: [],\n        cartElements: [],\n        cartCount: 0,\n        totalItemCount: [],\n        individualPrices: [],\n        brandFilterValue: '',\n        colorFilterValue: '',\n        minPriceFilterValue: '',\n        maxPriceFilterValue: '',\n        error: false,\n        isButtonDisabled: false, name: null\n    }\n    componentDidMount() {\n        axios.get(\"https://xebiascart.herokuapp.com/products\")\n            .then((response) => {\n                this.setState({ productData: response.data })\n                // this.state.productData.map(product => console.log(product.discount))\n                this.state.productData.forEach((product) => {\n                    return (\n                        this.setState({ totalItemCount: [...this.state.totalItemCount, { id: product.id, quantity: 0 }] })\n                    )\n                })\n\n            }).catch(error => {\n                this.setState({ error: error.response })\n            })\n        axios.get(\"https://xebiascart.herokuapp.com/filters\")\n            .then((response) => {\n                this.setState({ filters: response.data })\n\n            })\n            .catch(error => {\n                error === undefined ?\n                    this.setState({ error: true }) :\n                    this.setState({ error: error.response })\n\n            })\n        axios.get(\"https://xebiascart.herokuapp.com/users\")\n            .then((response) => {\n                this.setState({ users: response.data })\n            })\n    }\n    //Login Functions \n\n    onInputChange = (payload) => {\n        this.setState({ ...this.state, ...payload });\n    }\n    onSubmitHandler = (e) => {\n        e.preventDefault();\n        this.state.users.forEach((user) =>\n            user.username === this.state.username && user.password === this.state.password ?\n                console.log(this.props) :\n                alert(\"Enter the correct credentialss\")\n        )\n    }\n\n    setfullName = (name) => {\n        this.setState({ name: name })\n    }\n    //Button Disable\n\n    isButtonDisabled = (id) => {\n        if (this.state.cartElements.includes(id)) {\n            return true\n        }\n    }\n\n    // Filter Methods\n\n    searchOnchangeHandler = (searchString) => {\n        this.setState({ searchString: searchString });\n\n    }\n\n    selectOnChangeHandler = (selectValue) => {\n        this.setState(selectValue)\n    }\n\n    colorAndBrandFilter = (productData) => {\n        productData = productData.filter(product => this.state.brandFilterValue !== '' ? product.title.toLowerCase().includes(this.state.brandFilterValue.toLowerCase()) : true)\n            .filter(product => this.state.colorFilterValue !== '' ? product.colour.title.includes(this.state.colorFilterValue) : true)\n        return productData\n    }\n\n\n    filterSubmitHandler = () => {\n        if (this.state.minPriceFilterValue === '' && this.state.maxPriceFilterValue === '') {\n            axios.get(\"https://xebiascart.herokuapp.com/products\")\n                .then((response) => {\n                    this.setState({ productData: response.data })\n                    let productData = [...this.state.productData];\n                    productData = this.colorAndBrandFilter(productData)\n                    this.setState({ productData: productData })\n\n                })\n                .catch(error => {\n                    this.setState({ error: error.response })\n\n                })\n\n        } else if (this.state.minPriceFilterValue !== '' && this.state.maxPriceFilterValue === '') {\n            axios.get(\"https://xebiascart.herokuapp.com/products\")\n                .then((response) => {\n                    this.setState({ productData: response.data })\n                    let productData = [...this.state.productData];\n                    productData = this.colorAndBrandFilter(productData).filter(product => product.price.final_price >= parseInt(this.state.minPriceFilterValue.replace('₹', '')))\n                    this.setState({ productData: productData })\n                })\n                .catch(error => {\n                    this.setState({ error: error.response })\n\n                })\n\n        } else if (this.state.minPriceFilterValue === '' && this.state.maxPriceFilterValue !== '') {\n            axios.get(\"https://xebiascart.herokuapp.com/products\")\n                .then((response) => {\n                    this.setState({ productData: response.data })\n                    let productData = [...this.state.productData];\n                    productData = this.colorAndBrandFilter(productData).filter(product => product.price.final_price <= parseInt(this.state.maxPriceFilterValue.replace('₹', '')))\n                    this.setState({ productData: productData })\n                })\n                .catch(error => {\n                    this.setState({ error: error.response })\n\n                })\n\n        }\n        else if (this.state.minPriceFilterValue !== '' && this.state.maxPriceFilterValue !== '' && this.state.maxPriceFilterValue !== '₹4000+') {\n            axios.get(\"https://xebiascart.herokuapp.com/products\")\n                .then((response) => {\n                    this.setState({ productData: response.data })\n                    let productData = [...this.state.productData];\n                    productData = this.colorAndBrandFilter(productData).filter(\n                        product =>\n                            product.price.final_price <= parseInt(this.state.maxPriceFilterValue.replace('₹', ''))\n                            &&\n                            product.price.final_price >= parseInt(this.state.minPriceFilterValue.replace('₹', ''))\n                    )\n                    this.setState({ productData: productData })\n                })\n                .catch(error => {\n                    this.setState({ error: error.response })\n\n                })\n        } else {\n            axios.get(\"https://xebiascart.herokuapp.com/products\")\n                .then((response) => {\n                    this.setState({ productData: response.data })\n                    let productData = [...this.state.productData];\n                    productData = this.colorAndBrandFilter(productData)\n                    this.setState({ productData: productData })\n                })\n                .catch(error => {\n                    this.setState({ error: error.response })\n\n                })\n\n        }\n\n    }\n\n    removeFilter = () => {\n        axios.get(\"https://xebiascart.herokuapp.com/products\")\n            .then((response) => {\n                console.log(\"hello from remove\")\n                this.setState({ productData: response.data })\n            })\n            .catch(error => {\n                this.setState({ error: error.response })\n\n            })\n    }\n    removeFromCart = (id) => {\n        const cartElements = [...this.state.cartElements];\n        const index = cartElements.findIndex(item => item === id)\n        // cartElements = cartElements.filter(product => product !== id)\n        cartElements.splice(index, 1);\n        this.setState({ cartElements: cartElements, cartCount: this.state.cartCount - 1 })\n    }\n\n    totalItemCountFinder = (id) => {\n        const totalItemCount = [...this.state.totalItemCount];\n        const index = totalItemCount.findIndex(item => item.id === id);\n\n        return (totalItemCount[index].quantity)\n    }\n    individualItemPriceCalculator = (id) => {\n        const productData = [...this.state.productData];\n        const productDataIndex = productData.findIndex(item => item.id === id);\n        const price = productData[productDataIndex].price.final_price;\n\n        const totalItemCount = [...this.state.totalItemCount];\n        const totalItemCountIndex = totalItemCount.findIndex(item => item.id === id);\n        const count = totalItemCount[totalItemCountIndex].quantity;\n\n        const final_price = price * count;\n        // this.setState({ hello: \"hello\" })\n\n        // this.updateIndividualPrices(final_price)\n\n        return final_price;\n    }\n\n    updateIndividualPrices = (price) => {\n        this.setState({ individualPrices: [...this.state.individualPrices, price] })\n    }\n\n    totalItemCountIncrementHandler = (id) => {\n\n        this.setState(prevState => {\n            const totalItemCount = [...prevState.totalItemCount];\n            const index = totalItemCount.findIndex(item => item.id === id);\n\n            totalItemCount[index].quantity = totalItemCount[index].quantity + 1 <= 10 ? totalItemCount[index].quantity + 1 : totalItemCount[index].quantity;\n            return { totalItemCount }\n        })\n\n    }\n    totalItemCountDecrementHandler = (id) => {\n\n        this.setState(prevState => {\n            const totalItemCount = [...prevState.totalItemCount];\n            const index = totalItemCount.findIndex(item => item.id === id);\n\n            totalItemCount[index].quantity = totalItemCount[index].quantity - 1 > 0 ? totalItemCount[index].quantity - 1 : totalItemCount[index].quantity;\n            return { totalItemCount }\n\n        })\n\n    }\n    handleDetails = () => {\n        console.log(\"hello from detail\")\n    }\n\n    handleAddtoCard = (id) => {\n        let allAddedElements = [...this.state.cartElements];\n\n        if (allAddedElements.indexOf(id) === -1) {\n            const array = [...this.state.cartElements, id];\n            this.setState({ cartElements: array, cartCount: this.state.cartCount + 1, isButtonDisabled: true })\n            this.totalItemCountIncrementHandler(id)\n        } else {\n            alert(\"Item already added to cart! Please navigate to cart to update the quantity\")\n        }\n    }\n\n    render() {\n        return (\n            this.state.error === false ?\n                <ProductContext.Provider value={{\n                    ...this.state,\n                    searchOnchangeHandler: this.searchOnchangeHandler,\n                    selectOnChangeHandler: this.selectOnChangeHandler,\n                    filterSubmitHandler: this.filterSubmitHandler,\n                    handleDetails: this.handleDetails,\n                    handleAddtoCard: this.handleAddtoCard,\n                    totalItemCountIncrementHandler: this.totalItemCountIncrementHandler,\n                    totalItemCountDecrementHandler: this.totalItemCountDecrementHandler,\n                    totalItemCountFinder: this.totalItemCountFinder,\n                    individualItemPriceCalculator: this.individualItemPriceCalculator,\n                    removeFilter: this.removeFilter,\n                    removeFromCart: this.removeFromCart,\n                    isButtonDisabled: this.isButtonDisabled,\n                    onInputChange: this.onInputChange,\n                    onSubmitHandler: this.onSubmitHandler\n                }}>\n                    {this.props.children}\n                </ProductContext.Provider> :\n                <ErrorView error={this.state.error} />\n        )\n    }\n}\n\nconst ProductConsumer = ProductContext.Consumer;\n\nexport { ProductProvider, ProductConsumer };\n"]},"metadata":{},"sourceType":"module"}