{"ast":null,"code":"var _jsxFileName = \"/home/rajatrajivsharma/Desktop/ShoppeR/Shoppe/src/Data/Context.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nconst ProductContext = React.createContext();\n\nclass ProductProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      searchString: null,\n      productData: [],\n      filters: [],\n      cartElements: [],\n      cartCount: 0,\n      totalItemCount: [],\n      individualPrices: [],\n      brandFilterValue: null,\n      colorFilterValue: null,\n      minPriceFilterValue: null,\n      maxPriceFilterValue: null\n    };\n\n    this.searchOnchangeHandler = searchString => {\n      this.setState({\n        searchString: searchString\n      });\n    };\n\n    this.selectOnChangeHandler = selectValue => {\n      this.setState(selectValue);\n    };\n\n    this.filterSubmitHandler = () => {\n      let productData = [...this.state.productData]; // productData = productData.filter(product => product.title.includes(this.state.brandFilterValue.toLowerCase()));\n      // productData.map(product => console.log(product.title.toLowerCase()))\n\n      console.log(this.state.brandFilterValue);\n    };\n\n    this.totalItemCountFinder = id => {\n      const totalItemCount = [...this.state.totalItemCount];\n      const index = totalItemCount.findIndex(item => item.id === id);\n      return totalItemCount[index].quantity;\n    };\n\n    this.individualItemPriceCalculator = id => {\n      const productData = [...this.state.productData];\n      const productDataIndex = productData.findIndex(item => item.id === id);\n      const price = productData[productDataIndex].price.final_price;\n      const totalItemCount = [...this.state.totalItemCount];\n      const totalItemCountIndex = totalItemCount.findIndex(item => item.id === id);\n      const count = totalItemCount[totalItemCountIndex].quantity;\n      const final_price = price * count; // this.setState({ hello: \"hello\" })\n      // this.updateIndividualPrices(final_price)\n\n      return final_price;\n    };\n\n    this.updateIndividualPrices = price => {\n      this.setState({\n        individualPrices: [...this.state.individualPrices, price]\n      });\n    };\n\n    this.totalItemCountIncrementHandler = id => {\n      this.setState(prevState => {\n        const totalItemCount = [...prevState.totalItemCount];\n        const index = totalItemCount.findIndex(item => item.id === id);\n        totalItemCount[index].quantity = totalItemCount[index].quantity + 1 <= 10 ? totalItemCount[index].quantity + 1 : totalItemCount[index].quantity;\n        return {\n          totalItemCount\n        };\n      });\n    };\n\n    this.totalItemCountDecrementHandler = id => {\n      this.setState(prevState => {\n        const totalItemCount = [...prevState.totalItemCount];\n        const index = totalItemCount.findIndex(item => item.id === id);\n        totalItemCount[index].quantity = totalItemCount[index].quantity - 1 > 0 ? totalItemCount[index].quantity - 1 : totalItemCount[index].quantity;\n        return {\n          totalItemCount\n        };\n      });\n    };\n\n    this.handleDetails = () => {\n      console.log(\"hello from detail\");\n    };\n\n    this.handleAddtoCard = id => {\n      let allAddedElements = [...this.state.cartElements];\n\n      if (allAddedElements.indexOf(id) === -1) {\n        const array = [...this.state.cartElements, id];\n        this.setState({\n          cartElements: array,\n          cartCount: this.state.cartCount + 1\n        });\n      } else {\n        alert(\"Item already added to cart! Please navigate to cart to update the quantity\");\n      }\n\n      this.totalItemCountIncrementHandler(id); // this.setState({ cartElements: allAddedElements })\n      // const array = [...this.state.cartElements, id];\n      // this.setState({ cartElements: array, cartCount: this.state.cartCount + 1 })\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"https://xebiascart.herokuapp.com/products\").then(response => {\n      this.setState({\n        productData: response.data\n      });\n      this.state.productData.forEach(product => {\n        return this.setState({\n          totalItemCount: [...this.state.totalItemCount, {\n            id: product.id,\n            quantity: 0\n          }]\n        });\n      });\n      console.log(this.state.totalItemCount);\n    });\n    axios.get(\"https://xebiascart.herokuapp.com/filters\").then(response => {\n      this.setState({\n        filters: response.data\n      });\n    });\n  } // Filter Methods\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(ProductContext.Provider, {\n      value: { ...this.state,\n        searchOnchangeHandler: this.searchOnchangeHandler,\n        selectOnChangeHandler: this.selectOnChangeHandler,\n        filterSubmitHandler: this.filterSubmitHandler,\n        handleDetails: this.handleDetails,\n        handleAddtoCard: this.handleAddtoCard,\n        totalItemCountIncrementHandler: this.totalItemCountIncrementHandler,\n        totalItemCountDecrementHandler: this.totalItemCountDecrementHandler,\n        totalItemCountFinder: this.totalItemCountFinder,\n        individualItemPriceCalculator: this.individualItemPriceCalculator\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }, this.props.children);\n  }\n\n}\n\nconst ProductConsumer = ProductContext.Consumer;\nexport { ProductProvider, ProductConsumer };","map":{"version":3,"sources":["/home/rajatrajivsharma/Desktop/ShoppeR/Shoppe/src/Data/Context.js"],"names":["React","Component","axios","ProductContext","createContext","ProductProvider","state","searchString","productData","filters","cartElements","cartCount","totalItemCount","individualPrices","brandFilterValue","colorFilterValue","minPriceFilterValue","maxPriceFilterValue","searchOnchangeHandler","setState","selectOnChangeHandler","selectValue","filterSubmitHandler","console","log","totalItemCountFinder","id","index","findIndex","item","quantity","individualItemPriceCalculator","productDataIndex","price","final_price","totalItemCountIndex","count","updateIndividualPrices","totalItemCountIncrementHandler","prevState","totalItemCountDecrementHandler","handleDetails","handleAddtoCard","allAddedElements","indexOf","array","alert","componentDidMount","get","then","response","data","forEach","product","render","props","children","ProductConsumer","Consumer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\n\nconst ProductContext = React.createContext();\n\nclass ProductProvider extends Component {\n\n    state = {\n        searchString: null,\n        productData: [],\n        filters: [],\n        cartElements: [],\n        cartCount: 0,\n        totalItemCount: [],\n        individualPrices: [],\n        brandFilterValue: null,\n        colorFilterValue: null,\n        minPriceFilterValue: null,\n        maxPriceFilterValue: null\n    }\n    componentDidMount() {\n        axios.get(\"https://xebiascart.herokuapp.com/products\")\n            .then((response) => {\n                this.setState({ productData: response.data })\n\n                this.state.productData.forEach((product) => {\n                    return (\n                        this.setState({ totalItemCount: [...this.state.totalItemCount, { id: product.id, quantity: 0 }] })\n                    )\n                })\n                console.log(this.state.totalItemCount)\n\n            })\n        axios.get(\"https://xebiascart.herokuapp.com/filters\")\n            .then((response) => {\n\n                this.setState({ filters: response.data })\n            })\n    }\n\n    // Filter Methods\n\n    searchOnchangeHandler = (searchString) => {\n        this.setState({ searchString: searchString });\n\n    }\n\n    selectOnChangeHandler = (selectValue) => {\n        this.setState(selectValue)\n    }\n\n\n\n    filterSubmitHandler = () => {\n        let productData = [...this.state.productData];\n\n        // productData = productData.filter(product => product.title.includes(this.state.brandFilterValue.toLowerCase()));\n        // productData.map(product => console.log(product.title.toLowerCase()))\n        console.log(this.state.brandFilterValue)\n    }\n\n    totalItemCountFinder = (id) => {\n        const totalItemCount = [...this.state.totalItemCount];\n        const index = totalItemCount.findIndex(item => item.id === id);\n\n        return (totalItemCount[index].quantity)\n    }\n    individualItemPriceCalculator = (id) => {\n        const productData = [...this.state.productData];\n        const productDataIndex = productData.findIndex(item => item.id === id);\n        const price = productData[productDataIndex].price.final_price;\n\n        const totalItemCount = [...this.state.totalItemCount];\n        const totalItemCountIndex = totalItemCount.findIndex(item => item.id === id);\n        const count = totalItemCount[totalItemCountIndex].quantity;\n\n        const final_price = price * count;\n        // this.setState({ hello: \"hello\" })\n\n        // this.updateIndividualPrices(final_price)\n\n        return final_price;\n    }\n\n    updateIndividualPrices = (price) => {\n        this.setState({ individualPrices: [...this.state.individualPrices, price] })\n    }\n\n    totalItemCountIncrementHandler = (id) => {\n\n        this.setState(prevState => {\n            const totalItemCount = [...prevState.totalItemCount];\n            const index = totalItemCount.findIndex(item => item.id === id);\n\n            totalItemCount[index].quantity = totalItemCount[index].quantity + 1 <= 10 ? totalItemCount[index].quantity + 1 : totalItemCount[index].quantity;\n            return { totalItemCount }\n        })\n\n    }\n    totalItemCountDecrementHandler = (id) => {\n\n        this.setState(prevState => {\n            const totalItemCount = [...prevState.totalItemCount];\n            const index = totalItemCount.findIndex(item => item.id === id);\n\n            totalItemCount[index].quantity = totalItemCount[index].quantity - 1 > 0 ? totalItemCount[index].quantity - 1 : totalItemCount[index].quantity;\n            return { totalItemCount }\n\n        })\n\n    }\n    handleDetails = () => {\n        console.log(\"hello from detail\")\n    }\n\n    handleAddtoCard = (id) => {\n        let allAddedElements = [...this.state.cartElements];\n\n        if (allAddedElements.indexOf(id) === -1) {\n            const array = [...this.state.cartElements, id];\n            this.setState({ cartElements: array, cartCount: this.state.cartCount + 1 })\n        } else {\n            alert(\"Item already added to cart! Please navigate to cart to update the quantity\")\n        }\n        this.totalItemCountIncrementHandler(id)\n        // this.setState({ cartElements: allAddedElements })\n        // const array = [...this.state.cartElements, id];\n        // this.setState({ cartElements: array, cartCount: this.state.cartCount + 1 })\n\n\n\n    }\n\n    render() {\n        return (\n            <ProductContext.Provider value={{\n                ...this.state,\n                searchOnchangeHandler: this.searchOnchangeHandler,\n                selectOnChangeHandler: this.selectOnChangeHandler,\n                filterSubmitHandler: this.filterSubmitHandler,\n                handleDetails: this.handleDetails,\n                handleAddtoCard: this.handleAddtoCard,\n                totalItemCountIncrementHandler: this.totalItemCountIncrementHandler,\n                totalItemCountDecrementHandler: this.totalItemCountDecrementHandler,\n                totalItemCountFinder: this.totalItemCountFinder,\n                individualItemPriceCalculator: this.individualItemPriceCalculator\n            }}>\n                {this.props.children}\n            </ProductContext.Provider>\n        )\n    }\n}\n\nconst ProductConsumer = ProductContext.Consumer;\n\nexport { ProductProvider, ProductConsumer };\n"]},"metadata":{},"sourceType":"module"}