{"ast":null,"code":"var _jsxFileName = \"/home/rajatrajivsharma/Desktop/ShoppeR/Shoppe/src/Components/LoginPage.js\";\nimport React, { Component } from 'react';\nimport LoginPages from '../Views/LoginView';\nimport { ProductConsumer } from '../Data/Context';\nimport axios from 'axios';\nexport default class LoginPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onInputChange = payload => {\n      this.setState({ ...this.state,\n        ...payload\n      });\n    };\n\n    this.onSubmitHandler = e => {\n      e.preventDefault();\n      const validUser = this.state.users.filter(user => user.username === this.state.username && user.password === this.state.password);\n\n      if (validUser.length !== 0) {\n        this.setState({\n          isValid: false,\n          name: validUser[0].fullName\n        }, this.redirectTicketList);\n      } else {\n        this.setState({\n          isValid: false\n        });\n      }\n    };\n\n    this.redirectTicketList = () => {\n      // const token = window.localStorage.getItem('_token');\n      // if (token != null) {\n      //     this.props.history.push('/ticketlist');\n      // }\n      if (this.state.isValid === true) {\n        this.props.history.push('/home');\n      }\n    };\n\n    this.state = {\n      username: null,\n      password: null,\n      name: null,\n      users: null,\n      isValid: true\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"https://xebiascart.herokuapp.com/users\").then(response => {\n      this.setState({\n        users: response.data\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(LoginPages, Object.assign({ ...this.state,\n      onInputChange: this.onInputChange,\n      onSubmitHandler: this.onSubmitHandler\n    }, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/rajatrajivsharma/Desktop/ShoppeR/Shoppe/src/Components/LoginPage.js"],"names":["React","Component","LoginPages","ProductConsumer","axios","LoginPage","constructor","props","onInputChange","payload","setState","state","onSubmitHandler","e","preventDefault","validUser","users","filter","user","username","password","length","isValid","name","fullName","redirectTicketList","history","push","componentDidMount","get","then","response","data","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,oBAAvB;AACA,SAASC,eAAT,QAAgC,iBAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,SAAN,SAAwBJ,SAAxB,CAAkC;AAC7CK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAkBnBC,aAlBmB,GAkBFC,OAAD,IAAa;AACzB,WAAKC,QAAL,CAAc,EAAE,GAAG,KAAKC,KAAV;AAAiB,WAAGF;AAApB,OAAd;AACH,KApBkB;;AAAA,SAqBnBG,eArBmB,GAqBAC,CAAD,IAAO;AACrBA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMC,SAAS,GAAG,KAAKJ,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBC,IAAI,IAAIA,IAAI,CAACC,QAAL,KAAkB,KAAKR,KAAL,CAAWQ,QAA7B,IAAyCD,IAAI,CAACE,QAAL,KAAkB,KAAKT,KAAL,CAAWS,QAAtG,CAAlB;;AAEA,UAAIL,SAAS,CAACM,MAAV,KAAqB,CAAzB,EAA4B;AACxB,aAAKX,QAAL,CAAc;AAAEY,UAAAA,OAAO,EAAE,KAAX;AAAkBC,UAAAA,IAAI,EAAER,SAAS,CAAC,CAAD,CAAT,CAAaS;AAArC,SAAd,EAA+D,KAAKC,kBAApE;AACH,OAFD,MAEO;AACH,aAAKf,QAAL,CAAc;AAAEY,UAAAA,OAAO,EAAE;AAAX,SAAd;AACH;AAEJ,KA/BkB;;AAAA,SAiCnBG,kBAjCmB,GAiCE,MAAM;AACvB;AACA;AACA;AACA;AACA,UAAI,KAAKd,KAAL,CAAWW,OAAX,KAAuB,IAA3B,EAAiC;AAC7B,aAAKf,KAAL,CAAWmB,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB;AACH;AACJ,KAzCkB;;AAEf,SAAKhB,KAAL,GAAa;AACTQ,MAAAA,QAAQ,EAAE,IADD;AAETC,MAAAA,QAAQ,EAAE,IAFD;AAGTG,MAAAA,IAAI,EAAE,IAHG;AAITP,MAAAA,KAAK,EAAE,IAJE;AAKTM,MAAAA,OAAO,EAAE;AALA,KAAb;AAOH;;AAEDM,EAAAA,iBAAiB,GAAG;AAChBxB,IAAAA,KAAK,CAACyB,GAAN,CAAU,wCAAV,EACKC,IADL,CACWC,QAAD,IAAc;AAChB,WAAKrB,QAAL,CAAc;AAAEM,QAAAA,KAAK,EAAEe,QAAQ,CAACC;AAAlB,OAAd;AACH,KAHL;AAIH;;AA2BDC,EAAAA,MAAM,GAAG;AACL,wBACI,oBAAC,UAAD,gBAAgB,EACZ,GAAG,KAAKtB,KADI;AAEZH,MAAAA,aAAa,EAAE,KAAKA,aAFR;AAGZI,MAAAA,eAAe,EAAE,KAAKA;AAHV,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADJ;AAOH;;AApD4C","sourcesContent":["import React, { Component } from 'react';\nimport LoginPages from '../Views/LoginView';\nimport { ProductConsumer } from '../Data/Context';\nimport axios from 'axios';\n\nexport default class LoginPage extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            username: null,\n            password: null,\n            name: null,\n            users: null,\n            isValid: true\n        }\n    }\n\n    componentDidMount() {\n        axios.get(\"https://xebiascart.herokuapp.com/users\")\n            .then((response) => {\n                this.setState({ users: response.data })\n            })\n    }\n\n    onInputChange = (payload) => {\n        this.setState({ ...this.state, ...payload });\n    }\n    onSubmitHandler = (e) => {\n        e.preventDefault();\n        const validUser = this.state.users.filter(user => user.username === this.state.username && user.password === this.state.password);\n\n        if (validUser.length !== 0) {\n            this.setState({ isValid: false, name: validUser[0].fullName }, this.redirectTicketList)\n        } else {\n            this.setState({ isValid: false })\n        }\n\n    }\n\n    redirectTicketList = () => {\n        // const token = window.localStorage.getItem('_token');\n        // if (token != null) {\n        //     this.props.history.push('/ticketlist');\n        // }\n        if (this.state.isValid === true) {\n            this.props.history.push('/home')\n        }\n    }\n\n    render() {\n        return (\n            <LoginPages {...{\n                ...this.state,\n                onInputChange: this.onInputChange,\n                onSubmitHandler: this.onSubmitHandler\n            }} />\n        );\n    }\n\n}"]},"metadata":{},"sourceType":"module"}